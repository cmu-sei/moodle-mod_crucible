{"version":3,"file":"invite.min.js","sources":["../src/invite.js"],"sourcesContent":["define(['core/log', 'core/modal_factory'], function(log, ModalFactory) {\n\n    return {\n        init: function(info) {\n            var copyButton = document.getElementById('copy_invite');\n            var linkText = document.getElementById('invitationlinkurl');\n\n            if (!copyButton || !linkText) {\n                log.debug('Invite button or link not found.');\n                return;\n            }\n\n            copyButton.onclick = function() {\n                var link = linkText.textContent;\n\n                // Try to copy to clipboard\n                if (navigator.clipboard && window.isSecureContext) {\n                    navigator.clipboard.writeText(link)\n                        .then(() => {\n                            showModal('Invitation Link Copied', link);\n                        })\n                        .catch(err => {\n                            log.debug('Clipboard error:', err);\n                            showModal('Please Copy Invitation Link', link);\n                        });\n                } else {\n                    showModal('Please Copy Invitation Link', link);\n                }\n            };\n\n            function showModal(title, body) {\n                ModalFactory.create({\n                    type: ModalFactory.types.ALERT,\n                    title: title,\n                    body: body,\n                    removeOnClose: true,\n                }).then(modal => modal.show())\n                  .catch(err => log.debug(err));\n            }\n        }\n    };\n});"],"names":["define","log","ModalFactory","init","info","copyButton","document","getElementById","linkText","showModal","title","body","create","type","types","ALERT","removeOnClose","then","modal","show","catch","err","debug","onclick","link","textContent","navigator","clipboard","window","isSecureContext","writeText"],"mappings":"AAAAA,6BAAO,CAAC,WAAY,uBAAuB,SAASC,IAAKC,oBAE9C,CACHC,KAAM,SAASC,UACPC,WAAaC,SAASC,eAAe,eACrCC,SAAWF,SAASC,eAAe,8BAyB9BE,UAAUC,MAAOC,MACtBT,aAAaU,OAAO,CAChBC,KAAMX,aAAaY,MAAMC,MACzBL,MAAOA,MACPC,KAAMA,KACNK,eAAe,IAChBC,MAAKC,OAASA,MAAMC,SACpBC,OAAMC,KAAOpB,IAAIqB,MAAMD,OA9BzBhB,YAAeG,SAKpBH,WAAWkB,QAAU,eACbC,KAAOhB,SAASiB,YAGhBC,UAAUC,WAAaC,OAAOC,gBAC9BH,UAAUC,UAAUG,UAAUN,MACzBP,MAAK,KACFR,UAAU,yBAA0Be,SAEvCJ,OAAMC,MACHpB,IAAIqB,MAAM,mBAAoBD,KAC9BZ,UAAU,8BAA+Be,SAGjDf,UAAU,8BAA+Be,OAlB7CvB,IAAIqB,MAAM"}